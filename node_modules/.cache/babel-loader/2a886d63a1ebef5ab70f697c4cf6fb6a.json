{"ast":null,"code":"import _toConsumableArray from\"/Users/susanagonzalezvejo/Desktop/Adalab/modulo-3-evaluacion-final-SusanaG-code/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/susanagonzalezvejo/Desktop/Adalab/modulo-3-evaluacion-final-SusanaG-code/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import\"../stylesheets/App.scss\";import CharacterList from\"./CharacterList\";import api from\"../services/api\";import{Route,Switch}from\"react-router-dom\";import CharacterDetail from\"./CharacterDetail\";import Loading from\"./Loading\";import Header from\"./Header\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),filterText=_useState4[0],setFilterText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(\"Male\"),_useState8=_slicedToArray(_useState7,2),valueSelect=_useState8[0],setIsValueSelect=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),favourites=_useState10[0],setFavourites=_useState10[1];useEffect(function(){setIsLoading(true);api.getDataFromApi().then(function(data){setCharacters(data);setTimeout(function(){setIsLoading(false);},1000);});},[]);var handleChange=function handleChange(filterText){setFilterText(filterText);};var handleSelect=function handleSelect(selectValue){setIsValueSelect(selectValue);};var handleFav=function handleFav(clickFav){var newFavouriteList=[].concat(_toConsumableArray(favourites),[clickFav]);setFavourites(newFavouriteList);};var filteredCharacters=characters.filter(function(eachCharacter){return eachCharacter.name.toLowerCase().includes(filterText.toLowerCase());}).filter(function(eachCharacter){return eachCharacter.gender===valueSelect?true:false;}).sort(function(charac1,charac2){return charac1.name>charac2.name?1:-1;});var renderDetail=function renderDetail(props){var routeCharacterId=parseInt(props.match.params.id);var foundCharacter=characters.find(function(eachCharacter){return routeCharacterId===eachCharacter.id;});if(foundCharacter!==undefined){return/*#__PURE__*/_jsx(CharacterDetail,{titledetail:\"Name: \",namedetail:foundCharacter.name,statusdetail:foundCharacter.status,imagedetail:foundCharacter.image,origindetail:foundCharacter.origin,speciesdetail:foundCharacter.species,episodesdetail:foundCharacter.episode.length});}else{return/*#__PURE__*/_jsx(\"p\",{children:\"No hay personaje\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Switch,{children:[isLoading===true?/*#__PURE__*/_jsx(Loading,{}):null,/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(CharacterList,{className:\"card\",characters:filteredCharacters,handleChange:handleChange,filterText:filterText,handleSelect:handleSelect,handleFav:handleFav})}),/*#__PURE__*/_jsx(Route,{path:\"/character-detail/:id\",component:renderDetail})]})]})});};export default App;","map":{"version":3,"sources":["/Users/susanagonzalezvejo/Desktop/Adalab/modulo-3-evaluacion-final-SusanaG-code/src/components/App.js"],"names":["React","useEffect","useState","CharacterList","api","Route","Switch","CharacterDetail","Loading","Header","App","characters","setCharacters","filterText","setFilterText","isLoading","setIsLoading","valueSelect","setIsValueSelect","favourites","setFavourites","getDataFromApi","then","data","setTimeout","handleChange","handleSelect","selectValue","handleFav","clickFav","newFavouriteList","filteredCharacters","filter","eachCharacter","name","toLowerCase","includes","gender","sort","charac1","charac2","renderDetail","props","routeCharacterId","parseInt","match","params","id","foundCharacter","find","undefined","status","image","origin","species","episode","length"],"mappings":"oaAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,yBAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACoBR,QAAQ,CAAC,EAAD,CAD5B,wCACTS,UADS,eACGC,aADH,8BAEoBV,QAAQ,CAAC,EAAD,CAF5B,yCAETW,UAFS,eAEGC,aAFH,8BAGkBZ,QAAQ,CAAC,KAAD,CAH1B,yCAGTa,SAHS,eAGEC,YAHF,8BAKwBd,QAAQ,CAAC,MAAD,CALhC,yCAKTe,WALS,eAKIC,gBALJ,8BAOoBhB,QAAQ,CAAC,EAAD,CAP5B,0CAOTiB,UAPS,gBAOGC,aAPH,gBAShBnB,SAAS,CAAC,UAAM,CACde,YAAY,CAAC,IAAD,CAAZ,CACAZ,GAAG,CAACiB,cAAJ,GAAqBC,IAArB,CAA0B,SAACC,IAAD,CAAU,CAClCX,aAAa,CAACW,IAAD,CAAb,CACAC,UAAU,CAAC,UAAM,CACfR,YAAY,CAAC,KAAD,CAAZ,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CALD,EAMD,CARQ,CAQN,EARM,CAAT,CAUA,GAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACZ,UAAD,CAAgB,CACnCC,aAAa,CAACD,UAAD,CAAb,CACD,CAFD,CAIA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,WAAD,CAAiB,CACpCT,gBAAgB,CAACS,WAAD,CAAhB,CACD,CAFD,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAc,CAC9B,GAAMC,CAAAA,gBAAgB,8BAAOX,UAAP,GAAmBU,QAAnB,EAAtB,CACAT,aAAa,CAACU,gBAAD,CAAb,CACD,CAHD,CAKA,GAAIC,CAAAA,kBAAkB,CAAGpB,UAAU,CAChCqB,MADsB,CACf,SAACC,aAAD,CAAmB,CACzB,MAAOA,CAAAA,aAAa,CAACC,IAAd,CACJC,WADI,GAEJC,QAFI,CAEKvB,UAAU,CAACsB,WAAX,EAFL,CAAP,CAGD,CALsB,EAMtBH,MANsB,CAMf,SAACC,aAAD,QACNA,CAAAA,aAAa,CAACI,MAAd,GAAyBpB,WAAzB,CAAuC,IAAvC,CAA8C,KADxC,EANe,EAStBqB,IATsB,CASjB,SAACC,OAAD,CAAUC,OAAV,QAAuBD,CAAAA,OAAO,CAACL,IAAR,CAAeM,OAAO,CAACN,IAAvB,CAA8B,CAA9B,CAAkC,CAAC,CAA1D,EATiB,CAAzB,CAWA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,gBAAgB,CAAGC,QAAQ,CAACF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAAjC,CAEA,GAAMC,CAAAA,cAAc,CAAGrC,UAAU,CAACsC,IAAX,CAAgB,SAAChB,aAAD,CAAmB,CACxD,MAAOU,CAAAA,gBAAgB,GAAKV,aAAa,CAACc,EAA1C,CACD,CAFsB,CAAvB,CAIA,GAAIC,cAAc,GAAKE,SAAvB,CAAkC,CAChC,mBACE,KAAC,eAAD,EACE,WAAW,CAAC,QADd,CAEE,UAAU,CAAEF,cAAc,CAACd,IAF7B,CAGE,YAAY,CAAEc,cAAc,CAACG,MAH/B,CAIE,WAAW,CAAEH,cAAc,CAACI,KAJ9B,CAKE,YAAY,CAAEJ,cAAc,CAACK,MAL/B,CAME,aAAa,CAAEL,cAAc,CAACM,OANhC,CAOE,cAAc,CAAEN,cAAc,CAACO,OAAf,CAAuBC,MAPzC,EADF,CAWD,CAZD,IAYO,CACL,mBAAO,uCAAP,CACD,CACF,CAtBD,CAwBA,mBACE,YAAK,SAAS,CAAC,MAAf,uBACE,cAAM,SAAS,CAAC,MAAhB,wBACE,KAAC,MAAD,IADF,cAEE,MAAC,MAAD,YACGzC,SAAS,GAAK,IAAd,cAAqB,KAAC,OAAD,IAArB,CAAmC,IADtC,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,aAAD,EACE,SAAS,CAAC,MADZ,CAEE,UAAU,CAAEgB,kBAFd,CAGE,YAAY,CAAEN,YAHhB,CAIE,UAAU,CAAEZ,UAJd,CAKE,YAAY,CAAEa,YALhB,CAME,SAAS,CAAEE,SANb,EADF,EAFF,cAYE,KAAC,KAAD,EAAO,IAAI,CAAC,uBAAZ,CAAoC,SAAS,CAAEa,YAA/C,EAZF,GAFF,GADF,EADF,CAqBD,CAxFD,CA2FA,cAAe/B,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../stylesheets/App.scss\";\nimport CharacterList from \"./CharacterList\";\nimport api from \"../services/api\";\nimport { Route, Switch } from \"react-router-dom\";\nimport CharacterDetail from \"./CharacterDetail\";\nimport Loading from \"./Loading\";\nimport Header from \"./Header\";\n\nconst App = () => {\n  const [characters, setCharacters] = useState([]);\n  const [filterText, setFilterText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [valueSelect, setIsValueSelect] = useState(\"Male\");\n\n  const [favourites, setFavourites] = useState([]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    api.getDataFromApi().then((data) => {\n      setCharacters(data);\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 1000);\n    });\n  }, []);\n\n  const handleChange = (filterText) => {\n    setFilterText(filterText);\n  };\n\n  const handleSelect = (selectValue) => {\n    setIsValueSelect(selectValue);\n  };\n\n  const handleFav = (clickFav) => {\n    const newFavouriteList = [...favourites, clickFav];\n    setFavourites(newFavouriteList);\n  };\n\n  let filteredCharacters = characters\n    .filter((eachCharacter) => {\n      return eachCharacter.name\n        .toLowerCase()\n        .includes(filterText.toLowerCase());\n    })\n    .filter((eachCharacter) =>\n      eachCharacter.gender === valueSelect ? true : false\n    )\n    .sort((charac1, charac2) => (charac1.name > charac2.name ? 1 : -1));\n\n  const renderDetail = (props) => {\n    const routeCharacterId = parseInt(props.match.params.id);\n\n    const foundCharacter = characters.find((eachCharacter) => {\n      return routeCharacterId === eachCharacter.id;\n    });\n\n    if (foundCharacter !== undefined) {\n      return (\n        <CharacterDetail\n          titledetail=\"Name: \"\n          namedetail={foundCharacter.name}\n          statusdetail={foundCharacter.status}\n          imagedetail={foundCharacter.image}\n          origindetail={foundCharacter.origin}\n          speciesdetail={foundCharacter.species}\n          episodesdetail={foundCharacter.episode.length}\n        />\n      );\n    } else {\n      return <p>No hay personaje</p>;\n    }\n  };\n\n  return (\n    <div className=\"body\">\n      <main className=\"main\">\n        <Header />\n        <Switch>\n          {isLoading === true ? <Loading /> : null}\n          <Route exact path=\"/\">\n            <CharacterList\n              className=\"card\"\n              characters={filteredCharacters}\n              handleChange={handleChange}\n              filterText={filterText}\n              handleSelect={handleSelect}\n              handleFav={handleFav}\n            />\n          </Route>\n          <Route path=\"/character-detail/:id\" component={renderDetail}></Route>\n        </Switch>\n      </main>\n    </div>\n  );\n};\n\nApp.propTypes = {};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}